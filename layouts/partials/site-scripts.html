<!-- <script src="{{ "dist/app.bundle.js" | absURL }}" async></script> -->
<script src="{{ "js/app.bundle.js" | absURL }}"></script>

<script>
  /*
  Manual work
  */ 
  // if ('serviceWorker' in navigator) {
  //   window.addEventListener('load', function() {
  //     // It's fine to call .register every time on every page — browser will sort out
  //     navigator.serviceWorker.register("{{ "sw.js" | absURL }}")
  //     .then(
  //       function(registration) {
  //         // Registration was successful
  //         console.log('ServiceWorker registration successful with scope: ', registration.scope);
  //       }, function(err) {
  //         // registration failed :(
  //         console.log('ServiceWorker registration failed: ', err);
  //       }
  //     );
  //   });
  // }

  /*
  PWA Builder
  */ 
  //This is the service worker with the Cache-first network
  //Add this below content to your HTML page, or add the js file to your page at the very top to register sercie worker
  // if (navigator.serviceWorker.controller) {
  //   console.log('[PWA Builder] active service worker found, no need to register')
  // } else {
  //   //Register the ServiceWorker
  //   navigator.serviceWorker.register('pwabuilder-sw.js', {
  //     scope: '/'
  //   }).then(function(reg) {
  //     console.log('Service worker has been registered for scope:'+ reg.scope);
  //   });
  // }

  /*
  Workbox
  */ 
  // if ('serviceWorker' in navigator) {
  //   window.addEventListener('load', function() {
  //     // It's fine to call .register every time on every page — browser will sort out
  //     navigator.serviceWorker.register("{{ "workbox-sw.js" | absURL }}")
  //     .then(
  //       function(registration) {
  //         // Registration was successful
  //         console.log('ServiceWorker registration successful with scope: ', registration.scope);
  //       }, function(err) {
  //         // registration failed :(
  //         console.log('ServiceWorker registration failed: ', err);
  //       }
  //     );
  //   });
  // }

</script>

<script>
  performance.mark("scripts done blocking");
</script>
